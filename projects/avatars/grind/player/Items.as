package {

import com.threerings.util.RandomUtil;

public class Items
{
    // Item slots, each of which can wear one item
    public static const BACK :int = 0;
    public static const FEET :int = 1;
    public static const LEGS :int = 2;
    public static const TORSO :int = 3;
    public static const HEAD :int = 4;
    public static const HAND :int = 5;

    // Item categories, for class-based bonuses
    public static const NONE :int = -1;
    public static const ARCANE :int = 0;
    public static const LIGHT :int = 1;
    public static const HEAVY :int = 2;

    public static const BOW :int = 3;
    public static const CLUB :int = 4;
    public static const AXE :int = 5;
    public static const SWORD :int = 6;
    public static const SPEAR :int = 7;
    public static const MAGIC :int = 8;
    public static const DAGGER :int = 9;

    /** The big kahuna. */
    public static const TABLE :Array = [
        // [ sprite, name, slot, category, power, (range) ]
        [ 94, "Loincloth", TORSO, NONE, 1 ],
        [ 95, "Acolyte's Robe", TORSO, ARCANE, 1 ],
        [ 96, "Woodsman's Leathers", TORSO, LIGHT, 1 ],
        [ 97, "Legionnaire's Armor", TORSO, LIGHT, 1 ],
        [ 98, "Bling-Encrusted Plate", TORSO, HEAVY, 1 ],
        [ 99, "Elegant Dress", TORSO, NONE, 1 ],
        [ 100, "Soruda's Shell", TORSO, LIGHT, 1 ],
        [ 101, "Steel Plate", TORSO, LIGHT, 1 ],
        [ 102, "Shoulder Pads", TORSO, LIGHT, 1 ],
        [ 103, "Chain Sash", TORSO, HEAVY, 1 ],
        [ 104, "The Sultan's Favorite", TORSO, NONE, 1 ],
        [ 105, "Torn Robe", TORSO, ARCANE, 1 ],
        [ 106, "Apprentice Robe", TORSO, ARCANE, 1 ],
        [ 107, "Koopa Armor", TORSO, LIGHT, 1 ],
        [ 108, "Shredder's Armor", TORSO, HEAVY, 1 ],
        [ 109, "Leia's Armor", TORSO, NONE, 1 ],
        [ 110, "Chain Mail", TORSO, LIGHT, 1 ],
        [ 111, "Shining Mail", TORSO, LIGHT, 1 ],
        [ 112, "Chain Shirt", TORSO, LIGHT, 1 ],
        [ 113, "Royal Tabbard", TORSO, NONE, 1 ],
        [ 114, "Royal Guard's Armor", TORSO, LIGHT, 1 ],
        [ 115, "Gladiator's Prize", TORSO, LIGHT, 1 ],
        [ 116, "Harlequin Attire", TORSO, NONE, 1 ],
        [ 117, "Harlequin Attire", TORSO, NONE, 1 ],
        [ 118, "Crystal Armor", TORSO, HEAVY, 1 ],
        [ 126, "Water Talisman", TORSO, ARCANE, 1 ],
        [ 127, "Earth Talisman", TORSO, ARCANE, 1 ],
        [ 128, "Air Talisman", TORSO, ARCANE, 1 ],
        [ 129, "Cheap Knockoff Talisman", TORSO, ARCANE, 1 ],
        [ 130, "Turquoise Talisman", TORSO, ARCANE, 1 ],
        [ 131, "Amethyst Talisman", TORSO, ARCANE, 1 ],
        [ 132, "Diamond Talisman", TORSO, ARCANE, 1 ],
        [ 133, "Druid's Robe", TORSO, ARCANE, 1 ],
        [ 134, "White Dress", TORSO, NONE, 1 ],
        [ 135, "Ectoplasmic Armor", TORSO, HEAVY, 1 ],
        [ 136, "Peasant's Vest", TORSO, HEAVY, 1 ],
        [ 137, "The Ghost Hunter", TORSO, ARCANE, 1 ],
        [ 138, "Archon's Mantle", TORSO, ARCANE, 1 ],
        [ 139, "Smith's Finery", TORSO, NONE, 1 ],
        [ 140, "Lizard Hide", TORSO, NONE, 1 ],
        [ 141, "Tunic of the Hood", TORSO, LIGHT, 1 ],
        [ 142, "Steel Plate", TORSO, HEAVY, 1 ],
        [ 143, "Commander's Plate", TORSO, HEAVY, 1 ],
        [ 144, "Steel Plate", TORSO, HEAVY, 1 ],
        [ 145, "The Stylish Monk", TORSO, NONE, 1 ],
        [ 146, "Pottage-Stained Vest", TORSO, NONE, 1 ],
        [ 147, "Bronze Armor", TORSO, HEAVY, 1 ],
        [ 148, "Rock Armor", TORSO, HEAVY, 1 ],
        [ 149, "Robe of the Sorceress", TORSO, ARCANE, 1 ],
        [ 150, "Shaolin Master", TORSO, NONE, 1 ],
        [ 151, "Shaolin Monk", TORSO, NONE, 1 ],
        [ 152, "Gold Mail", TORSO, LIGHT, 1 ],
        [ 153, "Carpenter's Armor", TORSO, NONE, 1 ],
        [ 154, "Archer's Leathers", TORSO, LIGHT, 1 ],
        [ 155, "Rusty Plate", TORSO, HEAVY, 1 ],
        [ 156, "Freshly Pressed Alligator Skins", TORSO, LIGHT, 1 ],
        [ 157, "Bronze Plate", TORSO, LIGHT, 1 ],
        [ 158, "Humble Vest", TORSO, LIGHT, 1 ],
        [ 159, "Bone Laced Garments", TORSO, ARCANE, 1 ],
        [ 160, "Ruby Carapace", TORSO, HEAVY, 1 ],
        [ 161, "Scholar's Garments", TORSO, ARCANE, 1 ],
        [ 162, "Studded Leather", TORSO, LIGHT, 1 ],
        [ 163, "Hunter's Gear", TORSO, LIGHT, 1 ],
        [ 164, "Tavern Keeper's Finery", TORSO, NONE, 1 ],
        [ 165, "Knotted Black Vest", TORSO, NONE, 1 ],
        [ 166, "Knotted Red Vest", TORSO, NONE, 1 ],
        [ 167, "Blessed Plate", TORSO, HEAVY, 1 ],
        [ 168, "Robe of the Viper", TORSO, ARCANE, 1 ],
        [ 169, "Robe of the Viper", TORSO, ARCANE, 1 ],
        [ 170, "The Yoke", TORSO, NONE, 1 ],
        [ 171, "Agent 9", TORSO, NONE, 1 ],
        [ 172, "Dungeon Master's T-Shirt", TORSO, NONE, 1 ],
        [ 173, "Knight's Armor", TORSO, HEAVY, 1 ],
        [ 174, "Cleric's Armor", TORSO, HEAVY, 1 ],
        [ 175, "Officer's Armor", TORSO, HEAVY, 1 ],
        [ 176, "Dark Knight's Armor", TORSO, HEAVY, 1 ],
        [ 177, "Iron Plate", TORSO, HEAVY, 1 ],
        [ 178, "Dragon's Hide", TORSO, LIGHT, 1 ],
        [ 180, "Hooded Brotherhood Robe", TORSO, ARCANE, 1 ],
        [ 181, "Dark Brotherhood Robe", TORSO, ARCANE, 1 ],
        [ 182, "Night Bringer's Robe", TORSO, ARCANE, 1 ],
        [ 183, "Day Bringer's Robe", TORSO, ARCANE, 1 ],
        [ 184, "Apprentice of Water", TORSO, ARCANE, 1 ],
        [ 185, "Master of Water", TORSO, ARCANE, 1 ],
        [ 186, "Master of Earth", TORSO, ARCANE, 1 ],
        [ 187, "Apprentice of Earth", TORSO, ARCANE, 1 ],
        [ 188, "Gold Robe", TORSO, ARCANE, 1 ],
        [ 189, "Cyan Robe", TORSO, ARCANE, 1 ],
        [ 190, "Apprentice of Necromancy", TORSO, ARCANE, 1 ],
        [ 191, "Master of Nature", TORSO, ARCANE, 1 ],
        [ 192, "Apprentice of Nature", TORSO, ARCANE, 1 ],
        [ 193, "Pink Robe", TORSO, ARCANE, 1 ],
        [ 194, "Master of Necromancy", TORSO, ARCANE, 1 ],
        [ 195, "Violet Robe", TORSO, ARCANE, 1 ],
        [ 196, "Painter's Robe", TORSO, ARCANE, 1 ],
        [ 197, "Master of Fire", TORSO, ARCANE, 1 ],
        [ 198, "Master of the Sun", TORSO, ARCANE, 1 ],
        [ 199, "Royal Vestments", TORSO, ARCANE, 1 ],
        [ 200, "Apprentice of Fire", TORSO, ARCANE, 1 ],
        [ 201, "Dusk Walker's Robe", TORSO, ARCANE, 1 ],
        [ 202, "Time Bender's Robe", TORSO, ARCANE, 1 ],
        [ 203, "White Robe", TORSO, ARCANE, 1 ],
        [ 204, "Splicer's Robe", TORSO, ARCANE, 1 ],
        [ 205, "Apprentice of the Sun", TORSO, ARCANE, 1 ],
        [ 206, "Sailor Moon Outfit", TORSO, NONE, 1 ], // LOL
        [ 207, "Grave Robber's Coat", TORSO, ARCANE, 1 ],
        [ 208, "Fladnag's Robe", TORSO, ARCANE, 1 ],
        [ 209, "Scalemail", TORSO, HEAVY, 1 ],
        [ 210, "Heavy Chainmail", TORSO, HEAVY, 1 ],
        [ 211, "Samurai Armor", TORSO, HEAVY, 1 ],
        // Skipping a bunch of generic shit
        [ 222, "Mantle of the Possessed", TORSO, HEAVY, 1 ],
        [ 223, "Scholar's Robe", TORSO, ARCANE, 1 ],
        [ 224, "Leather Trenchcoat", TORSO, LIGHT, 1 ],
        [ 225, "Mantle of the Possessor", TORSO, HEAVY, 1 ],
        [ 226, "Dragon Scale Armor", TORSO, LIGHT, 1 ],
        [ 227, "Coat of the Butler", TORSO, NONE, 1 ],
        [ 228, "Firebrand's Cause", TORSO, LIGHT, 1 ],
        [ 229, "Robe of the Exiled", TORSO, ARCANE, 1 ],

        [ 230, "Gladiator's Boots", FEET, LIGHT, 1 ],
        [ 231, "Royal Boots", FEET, LIGHT, 1 ],
        [ 232, "White Heels", FEET, NONE, 1 ],
        [ 233, "Black Sandals", FEET, NONE, 1 ],
        [ 234, "Blue Sandals", FEET, NONE, 1 ],
        [ 235, "Red Sandals", FEET, NONE, 1 ],
        [ 236, "White Sandals", FEET, NONE, 1 ],
        [ 237, "Leather Boots", FEET, LIGHT, 1 ],
        [ 238, "Cowboy Boots", FEET, LIGHT, 1 ],
        [ 239, "Gold Boots", FEET, LIGHT, 1 ],
        [ 240, "Moon Boots", FEET, LIGHT, 1 ],
        [ 241, "Iron Boots", FEET, HEAVY, 1 ],
        [ 242, "Jack Boots", FEET, LIGHT, 1 ],
        [ 243, "Leather Shoes", FEET, LIGHT, 1 ],
        [ 244, "Tap Dancing Shoes", FEET, NONE, 1 ],
        [ 245, "Black Slippers", FEET, NONE, 1 ],
        [ 246, "Brown Slippers", FEET, NONE, 1 ],
        [ 247, "Blue Slippers", FEET, NONE, 1 ],
        [ 248, "Red Slippers", FEET, NONE, 1 ],

        [ 286, "Short Sword", HAND, SWORD, 1 ],
        [ 287, "Guard's Axe", HAND, AXE, 1 ],
        [ 288, "Blade", HAND, DAGGER, 1 ],
        [ 289, "Sun Staff", HAND, MAGIC, 1 ],
        [ 290, "Hammer", HAND, CLUB, 1 ],
        [ 291, "The Tentacle Cleaver", HAND, AXE, 1 ],
        [ 292, "Double Axe", HAND, AXE, 1 ],
        [ 293, "Executioner's Axe", HAND, AXE, 1 ],
        [ 294, "Viking Axe", HAND, AXE, 1 ],
        [ 295, "Cleaver", HAND, AXE, 1 ],
        [ 296, "Hatchet", HAND, AXE, 1 ],
        [ 297, "Warlord's Axe", HAND, AXE, 1 ],
        [ 298, "Night Stick", HAND, CLUB, 1 ],
        [ 299, "The Morale Improver", HAND, DAGGER, 1 ],
        [ 300, "Darnoc's Katars", HAND, DAGGER, 1 ],
        [ 301, "Obsidian Blade", HAND, SWORD, 1 ],
        [ 302, "TODO UNIQUE", HAND, DAGGER, 1 ],
        [ 303, "Poor Yorick", HAND, MAGIC, 1 ],
        [ 304, "Sword", HAND, SWORD, 1 ],
        [ 305, "Half-brick in a Sock", HAND, CLUB, 1 ],
        [ 306, "Short Bow", HAND, BOW, 1 ],
        [ 307, "Long Bow", HAND, BOW, 1 ],
        [ 308, "Thundering Bow", HAND, BOW, 1 ],
        [ 309, "Composite Bow", HAND, BOW, 1 ],
        [ 311, "The Whirled Hacker", HAND, SWORD, 1 ],
        [ 312, "Blue Dagger", HAND, SWORD, 1 ],
        [ 313, "The Ugly Stick", HAND, CLUB, 1 ],
        [ 314, "Club", HAND, CLUB, 1 ],
        [ 315, "Bludgeon", HAND, CLUB, 1 ],
        [ 316, "Baseball Bat", HAND, CLUB, 1 ],
        [ 317, "Heavy Crossbow", HAND, BOW, 1 ],
        [ 318, "Light Crossbow", HAND, BOW, 1 ],
        [ 319, "Soldier's Crossbow", HAND, BOW, 1 ],
        [ 320, "Flaming Crossbow", HAND, BOW, 1 ],
        [ 321, "Crossbow", HAND, BOW, 1 ],
        [ 322, "Crystal Ball", HAND, MAGIC, 1 ],
        [ 323, "Butter Knife", HAND, DAGGER, 1 ],
        [ 324, "Dagger", HAND, DAGGER, 1 ],
        [ 326, "Dervish's Whirler", HAND, SPEAR, 1 ],
        [ 327, "Darts", HAND, BOW, 1 ],
        [ 329, "Golden Helix Staff", HAND, MAGIC, 1 ],
        [ 330, "Blue Blade", HAND, SWORD, 1 ],
        [ 331, "Long Sword", HAND, SWORD, 1 ],
        [ 332, "Qiang Spear", HAND, SPEAR, 1 ],
        [ 333, "Morning Star", HAND, CLUB, 1 ],
        [ 334, "Scimitar", HAND, CLUB, 1 ],
        [ 336, "Farmer's Scythe", HAND, SPEAR, 1 ],
        [ 337, "Blue Fire", HAND, MAGIC, 1 ],
        [ 338, "Static Charge", HAND, MAGIC, 1 ],
        [ 339, "Liquid Flame", HAND, MAGIC, 1 ],
        [ 340, "Acid Burst", HAND, MAGIC, 1 ],
        [ 341, "Glowing Embers", HAND, MAGIC, 1 ],
        [ 342, "Faerie Dust", HAND, MAGIC, 1 ],
        [ 343, "Twister", HAND, MAGIC, 1 ],
        [ 344, "Lightsaber", HAND, SWORD, 1 ],
        [ 345, "Forked Spear", HAND, SPEAR, 1 ],
        [ 346, "Spiked Flail", HAND, CLUB, 1 ],
        [ 347, "Ball and Chain", HAND, CLUB, 1 ],
        [ 348, "American Gladiators Staff", HAND, CLUB, 1 ],
        [ 349, "Flail", HAND, CLUB, 1 ],
        [ 350, "Double Flail", HAND, CLUB, 1 ],
        [ 351, "Heavy Flail", HAND, CLUB, 1 ],
        [ 352, "Nunchaku", HAND, DAGGER, 1 ],
        [ 353, "Nunchaku", HAND, DAGGER, 1 ],
        [ 354, "Knife", HAND, DAGGER, 1 ],
        [ 356, "Goblin's Club", HAND, CLUB, 1 ],
        [ 357, "Hobgoblin's Club", HAND, CLUB, 1 ],
        [ 358, "Orc's Club", HAND, CLUB, 1 ],
        [ 359, "Giant's Club", HAND, CLUB, 1 ],
        [ 360, "Warhammer", HAND, CLUB, 1 ],
        [ 361, "Poleaxe", HAND, AXE, 1 ],
        [ 362, "Polearm", HAND, SPEAR, 1 ],
        [ 363, "Blue Voulge", HAND, SPEAR, 1 ],
        [ 364, "Voulge", HAND, SPEAR, 1 ],
        [ 365, "Ogre Axe", HAND, AXE, 1 ],
        [ 366, "Toothed Bow", HAND, BOW, 1 ],
        [ 367, "Cobra Staff", HAND, MAGIC, 1 ],
        [ 368, "Broad Sword", HAND, SWORD, 1 ],
        [ 369, "Falchion", HAND, SWORD, 1 ],
        [ 370, "Halberd", HAND, SPEAR, 1 ],
        [ 374, "Tomahawk", HAND, AXE, 1 ],
        [ 376, "Giant Sword", HAND, SWORD, 1 ],
        [ 377, "Pig Sticker", HAND, SPEAR, 1 ],
        [ 379, "Shining Long Sword", HAND, SWORD, 1 ],
        [ 380, "Rapier", HAND, SWORD, 1 ],
        [ 381, "Katana", HAND, SWORD, 1 ],
        [ 382, "Dirk", HAND, DAGGER, 1 ],
        [ 383, "Ceremonial Bow", HAND, BOW, 1 ],
        [ 384, "Lance", HAND, SPEAR, 1 ],
        [ 385, "War Lance", HAND, SPEAR, 1 ],
        [ 388, "Long Sword of Intense Longness", HAND, SWORD, 1 ],
        [ 389, "Hunter's Bow", HAND, BOW, 1 ],
        [ 390, "Fist of Ice", HAND, MAGIC, 1 ],
        [ 391, "Fist of Flame", HAND, MAGIC, 1 ],
        [ 392, "Fist of the Sun", HAND, MAGIC, 1 ],
        [ 393, "Claymore", HAND, SWORD, 1 ],
        [ 394, "Long Sword", HAND, SWORD, 1 ],
        [ 395, "Scepter", HAND, CLUB, 1 ],
        [ 396, "Dark Scepter", HAND, CLUB, 1 ],
        [ 404, "Inanimate Carbon Rod", HAND, CLUB, 1 ],
        [ 405, "The Light Soaker", HAND, MAGIC, 1 ],
        [ 406, "Pickaxe", HAND, AXE, 1 ],
        [ 407, "Pitch Fork", HAND, SPEAR, 1 ],
        [ 408, "Mythical Sword", HAND, SWORD, 1 ],
        [ 409, "Pronged Spear", HAND, SPEAR, 1 ],
        [ 410, "Walking Stick", HAND, SPEAR, 1 ],
        [ 411, "Bo Staff", HAND, SPEAR, 1 ],
        [ 415, "Sword", HAND, SWORD, 1 ],
        [ 418, "Gladius", HAND, SPEAR, 1 ],
        [ 419, "Cutlass", HAND, SPEAR, 1 ],
        [ 420, "Scythe", HAND, SPEAR, 1 ],
        [ 421, "Reaper's Scythe", HAND, SPEAR, 1 ],
        [ 422, "Spike", HAND, DAGGER, 1 ],
        [ 423, "Stiletto", HAND, DAGGER, 1 ],
        [ 424, "Dagger", HAND, DAGGER, 1 ],
        [ 425, "Kama", HAND, DAGGER, 1 ],
        [ 426, "Legendary Sword", HAND, SWORD, 1 ],
        [ 429, "Reaper's Crossbow", HAND, BOW, 1 ],
        [ 431, "Throwing Javelin", HAND, BOW, 1 ],
        [ 432, "Spear", HAND, SPEAR, 1 ],
        [ 433, "Hurling Javelin", HAND, BOW, 1 ],
        [ 435, "Pike", HAND, SPEAR, 1 ],
        [ 436, "Bone Staff", HAND, MAGIC, 1 ],
        [ 437, "Pronged Staff", HAND, MAGIC, 1 ],
        [ 438, "Crescent Staff", HAND, MAGIC, 1 ],
        [ 439, "Gnarled Staff", HAND, MAGIC, 1 ],
        [ 440, "Crooked Staff", HAND, MAGIC, 1 ],
        [ 441, "Shepherd's Staff", HAND, MAGIC, 1 ],
        [ 442, "Quartz Staff", HAND, MAGIC, 1 ],
        [ 444, "Eye of Soruda", HAND, MAGIC, 1 ],
        [ 445, "Skull Staff", HAND, MAGIC, 1 ],
        [ 445, "Rusty Dagger", HAND, DAGGER, 1 ],
        [ 447, "Sword", HAND, SWORD, 1 ],
        [ 448, "Rusty Sword", HAND, SWORD, 1 ],
        [ 449, "Black Sword", HAND, SWORD, 1 ],
        [ 450, "Serrated Blade", HAND, SWORD, 1 ],
        [ 451, "Flamberge", HAND, SWORD, 1 ],
        [ 452, "Impractical Sword", HAND, SWORD, 1 ],
        [ 453, "Kris", HAND, DAGGER, 1 ],
        [ 454, "Pronged Sword", HAND, SWORD, 1 ],
        [ 455, "Shocking Sword", HAND, SWORD, 1 ],
        [ 456, "War Trident", HAND, SPEAR, 1 ],
        [ 458, "Amethyst Trident", HAND, SPEAR, 1 ],
        [ 459, "Shocking Trident", HAND, SPEAR, 1 ],
        [ 461, "Bastard Sword", HAND, SWORD, 1 ],
        [ 462, "Black Javelin", HAND, BOW, 1 ],
        [ 463, "Steel Axe", HAND, AXE, 1 ],
        [ 464, "Rat's Tail", HAND, DAGGER, 1 ],

        [ 528, "Voodoo Mask", HEAD, NONE, 1 ],
        [ 530, "Blue Headband", HEAD, NONE, 1 ],
        [ 532, "Red Headband", HEAD, NONE, 1 ],
        [ 533, "White Headband", HEAD, NONE, 1 ],
        [ 534, "Gold Tiara", HEAD, NONE, 1 ],
        [ 535, "Chaotic Helm", HEAD, HEAVY, 1 ],
        [ 536, "Dark Helm", HEAD, HEAVY, 1 ],
        [ 537, "Winged Helm", HEAD, NONE, 1 ],
        [ 538, "Leather Cap", HEAD, LIGHT, 1 ],
        [ 539, "Hood", HEAD, NONE, 1 ],
        [ 540, "Baseball Cap", HEAD, NONE, 1 ],
        [ 542, "Rusty Helm", HEAD, HEAVY, 1 ],
        [ 543, "Jester's Cap", HEAD, NONE, 1 ],
        [ 544, "Enchanter's Hat", HEAD, ARCANE, 1 ],
        [ 545, "Potato Sack", HEAD, NONE, 1 ],
        [ 553, "Visored Helm", HEAD, HEAVY, 1 ],
        [ 554, "Chief's Helm", HEAD, HEAVY, 1 ],
        [ 555, "Horned Helm", HEAD, HEAVY, 1 ],
        [ 556, "Bucket Helm", HEAD, HEAVY, 1 ],
        [ 557, "Banded Helm", HEAD, HEAVY, 1 ],
        [ 558, "Summoner's Hat", HEAD, ARCANE, 1 ],
        [ 559, "Bowler Hat", HEAD, ARCANE, 1 ],
        [ 560, "Turban", HEAD, NONE, 1 ],
        [ 561, "Bat Leather Cap", HEAD, LIGHT, 1 ],
        [ 562, "Dragon Leather Cap", HEAD, LIGHT, 1 ],
        [ 563, "Feathered Helm", HEAD, HEAVY, 1 ],
        [ 564, "Light Helm", HEAD, LIGHT, 1 ],
        [ 576, "Winged Cap", HEAD, LIGHT, 1 ],
        [ 577, "Visage of the Slayer", HEAD, HEAVY, 1 ],
        [ 578, "Knight's Helm", HEAD, HEAVY, 1 ],
        [ 579, "Cap", HEAD, LIGHT, 1 ],
        [ 580, "Helm", HEAD, HEAVY, 1 ],
        [ 582, "Rusty Helm", HEAD, HEAVY, 1 ],
        [ 583, "Gladiator's Helm", HEAD, LIGHT, 1 ],
        [ 584, "Pharoah's Mask", HEAD, ARCANE, 1 ],
        [ 585, "Ninja's Hood", HEAD, LIGHT, 1 ],
        [ 586, "Fedora", HEAD, NONE, 1 ],
        [ 587, "Bicycle Helmet", HEAD, LIGHT, 1 ],
        [ 594, "Witch's Hat", HEAD, ARCANE, 1 ],
        [ 595, "Matron Witch's Hat", HEAD, ARCANE, 1 ],
        [ 596, "Swirling Hat", HEAD, ARCANE, 1 ],
        [ 597, "Gnome's Hat", HEAD, ARCANE, 1 ],
        [ 598, "Hat of Earth", HEAD, ARCANE, 1 ],
        [ 599, "Hat of Nature", HEAD, ARCANE, 1 ],
        [ 600, "Hat of Water", HEAD, ARCANE, 1 ],
        [ 601, "Hat of Fire", HEAD, ARCANE, 1 ],
        [ 602, "Hat of Air", HEAD, ARCANE, 1 ],
        [ 603, "Horned Cap", HEAD, LIGHT, 1 ],

        [ 604, "Kilt", LEGS, NONE, 1 ],
        [ 605, "Bronze Kilt", LEGS, LIGHT, 1 ],
        [ 606, "Red Undies", LEGS, NONE, 1 ],
        [ 607, "Enchanter's Robe", LEGS, ARCANE, 1 ],
        [ 608, "Garters", LEGS, NONE, 1 ],
        [ 609, "Bronze Leggings", LEGS, HEAVY, 1 ],
        [ 610, "Steel Leggings", LEGS, HEAVY, 1 ],
        [ 611, "Chainmail Leggings", LEGS, LIGHT, 1 ],
        [ 614, "Emerald Leggings", LEGS, HEAVY, 1 ],
        [ 615, "Loincloth", LEGS, NONE, 1 ],
        [ 616, "Dervish Pants", LEGS, NONE, 1 ],
        [ 614, "Emerald Leggings", LEGS, HEAVY, 1 ],
        [ 620, "Bat Leather Pants", LEGS, LIGHT, 1 ],
        [ 621, "Blue Jeans", LEGS, LIGHT, 1 ],
        [ 622, "Leather Pants", LEGS, LIGHT, 1 ],
        [ 623, "Drake Leather Pants", LEGS, LIGHT, 1 ],
        [ 624, "White Trousers", LEGS, NONE, 1 ],
        [ 625, "Shorts", LEGS, NONE, 1 ],
        [ 626, "Punjabi Pants", LEGS, NONE, 1 ],
        [ 630, "Black Shorts", LEGS, NONE, 1 ],
        [ 632, "Blue Dress", LEGS, NONE, 1 ],
        [ 633, "Green Dress", LEGS, NONE, 1 ],
        [ 634, "Red Dress", LEGS, NONE, 1 ],
        [ 635, "Tutu", LEGS, NONE, 1 ],
        [ 636, "Viper Dress", LEGS, NONE, 1 ],
        [ 637, "Arcane Bottoms", LEGS, ARCANE, 1 ],

        [ 249, "Black cloak", BACK, NONE, 1 ],
        [ 250, "Blue cloak", BACK, NONE, 1 ],
        [ 252, "Cyan cloak", BACK, NONE, 1 ],
        [ 254, "Green cloak", BACK, NONE, 1 ],
        [ 255, "Pink cloak", BACK, NONE, 1 ],
        [ 256, "Red cloak", BACK, NONE, 1 ],
        [ 257, "White cloak", BACK, NONE, 1 ],
        [ 258, "Yellow cloak", BACK, NONE, 1 ],
    ];

    /** A list of item IDs sorted ascending by power. */
    public static var SORTED_GOODIES :Array = TABLE.sortOn(
        "4", Array.NUMERIC | Array.RETURNINDEXEDARRAY);

    /** Returns a random item with around this power. */
    protected static function randomItem (power :int) :int
    {
        function search (low :int, high :int) :int {
            var mid :int = (low+high)/2;
            var value :int = TABLE[SORTED_GOODIES[mid]][4];

            if (high == low) {
                if (value > power) {
                    return Math.max(0, high-1);
                } else {
                    return Math.min(high+1, SORTED_GOODIES.length-1);
                }
            }

            if (value > power) {
                return search(low, mid);
            } else if (value < power) {
                return search(mid+1, high);
            } else {
                trace("Found it: " + mid); 
                return mid;
            }
        }

        var found :int = search(0, SORTED_GOODIES.length-1);
        var power :int = TABLE[SORTED_GOODIES[found]][4];

        return RandomUtil.pickRandom(SORTED_GOODIES.filter(function (item :int, ..._) :Boolean {
            return TABLE[item][4] == power;
        })) as int;
    }

    public static function randomLoot (base :Number, spread :Number) :int
    {
        var r :Number = (2*Math.random()-1);
        var power :Number =  spread*r*r*r + base;

        trace("Random power: " + power + "(r="+r+")");

        return randomItem(Math.round(power));
    }
}

}
